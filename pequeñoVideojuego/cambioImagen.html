<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrera de personas</title>
</head>
<body>
    <div>
    <img src="imagenes/personajeParado1.png" alt="Jugador 1 parado" id="jugador1" class="personajes" ><br>
    <img src="imagenes/personajeAzul1.png" alt="Jugador 2 parado" id="jugador2" class="personajes" >
    </div>

    <script>
        // Creamos la posición de los personajes
        var posicionXPersonaje1 = 0;
        var posicionXPersonaje2 = 0;
        // Seleccionamos todo el body para poder movernos por ahí
        document.querySelector("body").addEventListener("keyup", (event) => {
            if(event.code === 'KeyP'){
                posicionXPersonaje1+=10; // posicionXPersonaje1 = posicionXPersonaje1 + 10;
                document.querySelector('#jugador1').style.marginLeft = posicionXPersonaje1 + "px";
            } else if (event.code === 'KeyQ'){
                posicionXPersonaje2+=10; // posicionXPersonaje1 = posicionXPersonaje1 + 10;
                document.querySelector('#jugador2').style.marginLeft = posicionXPersonaje2 + "px";
            }
            // Configurar la meta
            if(posicionXPersonaje1>=window.innerWidth){
                alert('Has ganado la partida Jugador 1!');
            } else if (posicionXPersonaje2>=window.innerWidth){
                alert('Has ganado la partida jugador 2!');
            }
        })
        // CAMBIO DE IMAGEN con KEYUP
        document.addEventListener("keyup", () => {
            setTimeout (() => {
                let jugador1 = document.querySelector('#jugador1');
                let jugador2 = document.querySelector('#jugador2');

                jugador1.src = "imagenes/personajeCorriendo2.png";
                jugador2.src = "imagenes/personajeAzul2.png"
            }, 16);
        })
        document.addEventListener("keydown", () => {
            setTimeout (() => {
                let jugador1 = document.querySelector('#jugador1');
                let jugador2 = document.querySelector('#jugador2');

                jugador1.src = "imagenes/personajeParado1.png";
                jugador2.src = "imagenes/personajeAzul1.png";
            }, 16);
        })

    </script>
</body>
</html>